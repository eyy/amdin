(function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={1:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;s.push([6,0]),n()})({"+goq":function(e,t,n){"use strict";var r=n("Oa+a"),a=n.n(r);a.a},"4qEE":function(e,t,n){"use strict";var r=n("C+zI"),a=n.n(r);a.a},6:function(e,t,n){e.exports=n("Vtdi")},ByM6:function(e,t,n){"use strict";var r=n("DG75"),a=n.n(r);a.a},"C+zI":function(e,t,n){},DG75:function(e,t,n){},FIQ1:function(e,t,n){"use strict";var r=n("gdBf"),a=n.n(r);a.a},"Hz/v":function(e,t,n){"use strict";var r=n("Z/my"),a=n.n(r);a.a},MfxS:function(e,t,n){"use strict";var r=n("iXah"),a=n.n(r);a.a},"Oa+a":function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);n("f3/d"),n("VRzm");var r=n("Kw5r"),a=n("pl0M"),s=n.n(a),o=(n("pIFo"),{install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};e.prototype.___=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t[0];return n.hasOwnProperty(a)?a=n[a]:"English"!==n._name&&console.warn(a,"untranslated"),a.replace(i,function(e,n){return t[n]})},e.prototype.$setLang=function(e){n=e,n._direction&&(document.body.dir=n._direction)},t.lang&&e.prototype.$setLang(t.lang)}}),i=/\$(\d)?/,u=n("jE9Z"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.___("Welcome!")))]),e._v(" "),e._l(e.models,function(t){return n("h2",{key:t.name},[t.single?n("router-link",{attrs:{to:t.name+"/single"}},[e._v(e._s(t.plural))]):n("router-link",{attrs:{to:t.name}},[e._v(e._s(t.plural))])],1)})],2)},c=[],p=(n("ls82"),n("MECJ")),d=n("44Ds"),h=n.n(d),f="/admin/api/",v=new r["a"];function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.credentials="include",t.headers={"content-type":"application/json"},fetch(f+e,t).then(function(e){return e.json()}).then(function(e){return 500===e.status&&"ValidationError"!==e.name?Promise.reject(e):e}).catch(function(e){return v.$emit("error",e),e})}var m=h()(function(){return _()}),b=h()(function(e){return _(e+"/options")});function g(e){return _(e)}function x(e){return _(e+"/ref")}function w(e,t){return _(e+"/sort",{method:"PUT",body:JSON.stringify(t)})}function y(e,t){return _(e,{method:"POST",body:JSON.stringify(t)})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";return _(e+"/"+t)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first",n=arguments.length>2?arguments[2]:void 0;return _(e+"/"+t,{method:"PUT",body:JSON.stringify(n)})}function O(e,t){return _(e+"/"+t,{method:"DELETE"})}function $(e,t,n){return _(e+"/actions/"+t+"/"+n)}var E={data:function(){return{models:[]}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,n=t.models,this.models=n;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},R=E,D=n("KHd+"),S=Object(D["a"])(R,l,c,!1,null,null,null),C=S.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[n("router-link",{attrs:{to:"/"}},[e._v(e._s(e.___("Admin")))]),e._v(" /\n    "+e._s(e.opts.plural)+"\n  ")],1),e._v(" "),n("router-link",{attrs:{tag:"button",to:e.model+"/new"}},[e._v("\n    + "+e._s(e.___("Add a new $1",e.opts.label))+"\n  ")]),e._v(" "),e.reordered?n("button",{staticClass:"other",attrs:{disabled:"saving"===e.reordered},on:{click:function(t){return t.preventDefault(),e.sort(t)}}},[e._v("\n    "+e._s(e.___("Save New Order"))+"\n  ")]):e._e(),e._v(" "),e.docs.length?n("table",{attrs:{id:"list"}},[n("tr",[e._l(e.opts.list,function(t){return n("th",{key:t,class:{sort:t===e.opts.sortable}},[e._v("\n        "+e._s(e.opts.paths[t].label)+"\n      ")])}),e._v(" "),n("th")],2),e._v(" "),n("sortable-list",{attrs:{tag:"tbody","use-drag-handle":!0},on:{input:function(t){e.reordered=!0}},model:{value:e.docs,callback:function(t){e.docs=t},expression:"docs"}},e._l(e.docs,function(t,r){return n("sortable-item",{key:t._id,attrs:{tag:"tr",index:r}},[e._l(e.opts.list,function(r){return n("td",{key:r},[r===e.opts.sortable?n("span",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"sort"},[e._v("\n            ↕\n          ")]):r===e.opts.title?n("div",{staticClass:"title-field"},[n("router-link",{attrs:{to:e.model+"/"+t._id}},[e._v("\n              "+e._s(t[r])+"\n            ")])],1):n("plain",{attrs:{value:t[r],path:e.opts.paths[r]}})],1)}),e._v(" "),n("td",[n("router-link",{attrs:{tag:"button",to:e.model+"/"+t._id}},[e._v(e._s(e.___("Edit")))]),e._v(" "),n("button",{staticClass:"danger",on:{click:function(n){n.preventDefault(),e.del(t._id,r)}}},[e._v(e._s(e.___("Delete")))]),e._v(" "),e._l(e.opts.actions,function(r,a){return n("button",{key:a,staticClass:"other",on:{click:function(n){n.preventDefault(),e.act(a,t)}}},[e._v("\n            "+e._s(r.label)+"\n          ")])})],2)],2)}))],1):n("p",[n("strong",[e._v(e._s(e.___("No Documents.")))])])],1)},q=[],A=(n("rGqo"),n("k5N+")),N=n("EbCt"),F={mixins:[N["ContainerMixin"]],props:{tag:{type:String,default:"div"}},render:function(e){return e(this.tag,this.$slots.default)}},L={mixins:[N["ElementMixin"]],props:{tag:{type:String,default:"div"}},render:function(e){return e(this.tag,this.$slots.default)}},M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["Boolean"===e.path.type?n("div",{staticStyle:{"text-align":"center"}},[e.value?n("span",[e._v("✓")]):e._e()]):n("span",[e._v("\n    "+e._s(e.value)+"\n  ")])])},T=[],z={props:["path","value"]},I=z,U=Object(D["a"])(I,M,T,!1,null,null,null),B=U.exports,H={data:function(){return{model:"",opts:{},docs:[],reordered:!1}},beforeRouteEnter:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,s,o,i,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.params.model,e.next=3,Promise.all([b(a),g(a)]);case 3:if(s=e.sent,o=Object(A["a"])(s,2),i=o[0],u=o[1],!i.single){e.next=9;break}return e.abrupt("return",r("/"+a+"/single"));case 9:r(function(e){e.model=a,e.opts=i,e.docs=u});case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),methods:{act:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$(this.model,t,n._id);case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,g(this.model);case 7:this.docs=e.sent,this.$toasted.success(this.opts.actions[t].success);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),sort:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.reordered="saving",e.next=3,w(this.model,this.docs.map(function(e,t){return[e._id,t]}));case 3:t=e.sent,this.reordered=!1,t.ok&&this.$toasted.success(this.___("Saved!"));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),del:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=this.docs[n][this.opts.title],a=this.realDel,s=this.___,this.$toasted.show(s("Are you sure you want to delete $1?",r),{duration:null,type:"error",action:[{text:s("Delete"),onClick:function(e,s){s.goAway(0),setTimeout(function(){return a(t,n,r)},500)}},{text:s("Never mind"),onClick:function(e,t){t.goAway(0)}}]});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),realDel:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O(this.model,t);case 2:if(a=e.sent,a.ok){e.next=5;break}return e.abrupt("return");case 5:this.docs.splice(n,1),this.$toasted.info(this.___("$1 was deleted.",r));case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},components:{SortableList:F,SortableItem:L,Plain:B},directives:{handle:N["HandleDirective"]}},J=H,V=(n("4qEE"),Object(D["a"])(J,P,q,!1,null,null,null)),K=V.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[n("router-link",{attrs:{to:"/"}},[e._v(e._s(e.___("Admin")))]),e._v("\n    / "),n("router-link",{attrs:{to:"/"+e.model}},[e._v(e._s(e.opts.plural))]),e._v("\n    / "+e._s(e.___("New"))+"\n  ")],1),e._v(" "),n("a-form",{attrs:{paths:e.opts.paths,doc:e.doc,submit:function(t){return e.postDoc(e.model,t)}},on:{saved:e.saved}})],1)},W=[];function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Z(e[n]));return t}function Z(e){if(e.default)return e.default;if(e.enum)return e.enum[0];if(e.schema)return[];var t=e.field||(e.type||"obj").toLowerCase();return"number"===t?e.min?e.min:0:"picture"===t?[]:null}var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{class:{saving:e.saving},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("obj",{attrs:{path:e.paths,value:e.doc,errors:e.errors}}),e._v(" "),n("button",{attrs:{type:"submit",disabled:e.saving}},[e._v("\n    "+e._s(e.___("Save"))+"\n    "),e.saving?n("span",[e._v("...")]):e._e()]),e._v(" "),e.errors?n("div",{staticClass:"error"},[e._v("\n    "+e._s(e.errors.message)+"\n  ")]):e._e()],1)},Y=[],ee={props:{doc:Object,paths:Object,submit:Function},data:function(){return{errors:{},saving:!1,preSave:[]}},provide:function(){return{preSave:this.preSave}},methods:{save:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.___,this.saving=!0,e.prev=2,e.next=5,Promise.all(this.preSave.map(function(e){return e()}));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](2),console.error("preSave error",e.t0),e.abrupt("return",this.$toasted.error(t("There was a problem :(")));case 11:return e.next=13,this.submit(this.doc);case 13:n=e.sent,this.saving=!1,500===n.status&&"ValidationError"===n.name?(this.errors=n.errors,console.error("submit error",n),this.$toasted.error(t("There was a problem :("))):(this.errors={},this.$toasted.success(t("Saved!")),this.$emit("saved",n));case 16:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()}},te=ee,ne=(n("ByM6"),Object(D["a"])(te,Q,Y,!1,null,null,null)),re=ne.exports,ae={data:function(){return{model:"",opts:{paths:{}},doc:{}}},beforeRouteEnter:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.params.model,e.next=3,b(a);case 3:if(s=e.sent,!s.single){e.next=6;break}return e.abrupt("return",r("/"+a+"/single"));case 6:r(function(e){e.model=a,e.opts=s,e.doc=X(s.paths)});case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),methods:{postDoc:y,saved:function(e){this.$router.push({name:"edit",params:{model:this.model,id:e._id}})}},components:{AForm:re}},se=ae,oe=Object(D["a"])(se,G,W,!1,null,null,null),ie=oe.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[n("router-link",{attrs:{to:"/"}},[e._v(e._s(e.___("Admin")))]),e._v("\n    / "),n("router-link",{attrs:{to:"/"+e.model}},[e._v(e._s(e.opts.plural))]),e._v("\n    / "),n("em",[e._v(e._s(e.doc[e.opts.title]||e.___("Untitled")))])],1),e._v(" "),n("a-form",{attrs:{paths:e.opts.paths,doc:e.doc,submit:function(t){return e.putDoc(e.model,e.id,t)}},on:{saved:function(t){return e.doc=t}}})],1)},le=[],ce={data:function(){return{model:"",id:null,opts:{paths:{}},doc:{}}},beforeRouteEnter:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,s,o,i,u,l,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.params,s=a.model,o=a.id,e.next=3,Promise.all([b(s),k(s,o)]);case 3:if(i=e.sent,u=Object(A["a"])(i,2),l=u[0],c=u[1],!l.single){e.next=9;break}return e.abrupt("return",r("/"+s+"/single"));case 9:r(function(e){e.model=s,e.id=o,e.opts=l,e.doc=c});case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),methods:{putDoc:j},components:{AForm:re}},pe=ce,de=Object(D["a"])(pe,ue,le,!1,null,null,null),he=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[n("router-link",{attrs:{to:"/"}},[e._v(e._s(e.___("Admin")))]),e._v("\n    / "+e._s(e.opts.label)+"\n  ")],1),e._v(" "),n("a-form",{attrs:{paths:e.opts.paths,doc:e.doc,submit:function(t){return e.putDoc(e.model,e.id,t)}}})],1)},ve=[],_e={data:function(){return{model:"",id:null,opts:{paths:{}},doc:{}}},beforeRouteEnter:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,s,o,i,u,l,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.params,s=a.model,o=a.id,e.next=3,Promise.all([b(s),k(s)]);case 3:if(i=e.sent,u=Object(A["a"])(i,2),l=u[0],c=u[1],l.single){e.next=9;break}return e.abrupt("return",r("/"+s));case 9:r(function(e){e.model=s,e.id=o,e.opts=l,e.doc=c});case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),methods:{putDoc:j},components:{AForm:re}},me=_e,be=Object(D["a"])(me,fe,ve,!1,null,null,null),ge=be.exports;r["a"].use(u["a"]);var xe=new u["a"]({routes:[{path:"/",name:"home",component:C},{path:"/:model",name:"list",component:K},{path:"/:model/new",name:"create",component:ie},{path:"/:model/single",name:"single",component:ge},{path:"/:model/:id",name:"edit",component:he}]}),we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.ready?n("router-view"):e._e()],1)},ye=[],ke={data:function(){return{ready:!1}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v.$on("error",function(e){r.$toasted.error(r.___("There was a problem :(")),console.error(e)}),e.next=3,m();case 3:if(t=e.sent,n=t.conf,n){e.next=7;break}return e.abrupt("return",v.$emit("error","No config."));case 7:this.$setLang(n.lang),this.ready=!0;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},je=ke,Oe=(n("MfxS"),Object(D["a"])(je,we,ye,!1,null,null,null)),$e=Oe.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",e._l(e.path,function(t,r){return t.hide?e._e():n("tr",{key:r},[n("th",[e._v("\n      "+e._s(t.label||e.capitalize(r))+" "),t.required?n("span",{staticClass:"required",attrs:{title:"Required"}},[e._v("*")]):e._e()]),e._v(" "),n("td",[n(e.matchField(t),{tag:"component",attrs:{path:t},model:{value:e.value[r],callback:function(t){e.$set(e.value,r,t)},expression:"value[name]"}}),e._v(" "),e.errors[r]?n("span",{staticClass:"error"},[e._v("\n        "+e._s(e.errors[r].message)+"\n      ")]):e._e()],1)])}))},Re=[],De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"text",required:e.path.required,maxlength:e.path.maxlength,minlength:e.path.minlength},domProps:{value:e.value},on:{input:function(t){e.$emit("input",t.target.value)}}})},Se=[],Ce={props:["value","path"]},Pe=Ce,qe=Object(D["a"])(Pe,De,Se,!1,null,null,null),Ae=qe.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("textarea",{attrs:{type:"text",required:e.path.required,maxlength:e.path.maxlength,minlength:e.path.minlength},domProps:{value:e.value},on:{input:function(t){e.$emit("input",t.target.value)}}})},Fe=[],Le={props:["value","path"]},Me=Le,Te=Object(D["a"])(Me,Ne,Fe,!1,null,null,null),ze=Te.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"checkbox",required:e.path.required},domProps:{checked:e.value},on:{change:function(t){e.$emit("input",t.target.checked)}}})},Ue=[],Be={props:{value:Boolean,path:Object}},He=Be,Je=Object(D["a"])(He,Ie,Ue,!1,null,null,null),Ve=Je.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("\n    + "+e._s(e.___("Add"))+"\n  ")]),e._v(" "),n("sortable-list",{attrs:{"lock-axis":"y","use-drag-handle":!0},model:{value:e.here,callback:function(t){e.here=t},expression:"here"}},e._l(e.here,function(t,r){return n("sortable-item",{key:t._id,class:{box:!0,delete:t.__deleted},attrs:{index:r}},[n("div",{staticClass:"box-controls"},[e._v("\n        "+e._s(t.__deleted?e.___("Deleted"):"")+"\n        "),n("a",{directives:[{name:"handle",rawName:"v-handle"},{name:"show",rawName:"v-show",value:e.here.length>1,expression:"here.length > 1"}],staticClass:"reorder",attrs:{href:"#",title:e.___("Order")}},[e._v("↕")]),e._v(" "),n("a",{attrs:{href:"#",title:e.___("Remove")},on:{click:function(n){n.preventDefault(),e.remove(t)}}},[e._v("×")])]),e._v(" "),n("obj",{attrs:{path:e.path.schema,value:e.here[r]}})],1)}))],1)},Ge=[],We={props:{value:Array,path:Object},computed:{here:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{add:function(){this.here=[X(this.path.schema,{__deleted:!1})].concat(this.value)},remove:function(e){this.$set(e,"__deleted",!e.__deleted)}},components:{SortableList:F,SortableItem:L},directives:{handle:N["HandleDirective"]}},Xe=We,Ze=(n("FIQ1"),Object(D["a"])(Xe,Ke,Ge,!1,null,null,null)),Qe=Ze.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.path.enum,function(t){return n("label",{key:t},[n("input",{attrs:{type:"radio",name:"paths"},domProps:{value:t,checked:t===e.value},on:{change:function(t){e.$emit("input",t.target.value)}}}),e._v("\n    "+e._s(t)+"\n  ")])}))},et=[],tt={props:{value:String,path:Object}},nt=tt,rt=Object(D["a"])(nt,Ye,et,!1,null,null,null),at=rt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"number",required:e.path.required,min:e.path.min,max:e.path.max},domProps:{value:e.value},on:{input:function(t){e.$emit("input",Number(t.target.value))}}})},ot=[],it={props:["value","path"]},ut=it,lt=Object(D["a"])(ut,st,ot,!1,null,null,null),ct=lt.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"date",required:e.path.required},domProps:{value:e.value},on:{input:function(t){e.$emit("input",t.target.value)}}})},dt=[],ht={props:["value","path"]},ft=ht,vt=Object(D["a"])(ft,pt,dt,!1,null,null,null),_t=vt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{on:{change:function(t){e.$emit("input",t.target.value)}}},[e.path.require?e._e():n("option"),e._v(" "),e._l(e.options,function(t){return n("option",{key:t[0],domProps:{value:t[0],selected:t[0]===e.value}},[e._v("\n    "+e._s(t[1])+"\n  ")])})],2)},bt=[],gt={props:{value:String,path:Object},data:function(){return{options:[]}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x(this.path.ref);case 2:this.options=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},xt=gt,wt=Object(D["a"])(xt,mt,bt,!1,null,null,null),yt=wt.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.conf?n("div",[n("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file",multiple:e.path.multiple,accept:"image/*",axis:"xy"},on:{change:e.show}}),e._v(" "),e.path.multiple||!e.value.length&&!e.files.length?n("button",{staticClass:"other",on:{click:function(t){t.preventDefault(),e.$refs.input.click()}}},[e._v("\n      + "+e._s(e.___("Select Files"))+"\n    ")]):e._e(),e._v(" "),e.files.length?n("button",{on:{click:function(t){return t.preventDefault(),e.upload(t)}}},[e._v("\n      ↑ "+e._s(e.___("Upload"))+"\n    ")]):e._e(),e._v(" "),e.files.length?n("div",{staticClass:"pictures"},e._l(e.files,function(t,r){return n("div",{key:r,staticClass:"picture"},[n("img",{attrs:{src:t.blob,height:"120"}}),e._v(" "),n("span",[n("a",{attrs:{href:"#",title:e.___("Delete")},on:{click:function(t){t.preventDefault(),e.files.splice(r,1)}}},[e._v("×")])]),e._v("\n        "+e._s(e.___(t.status))+"\n      ")])})):e._e(),e._v(" "),e.value.length?n("sortable-list",{staticClass:"pictures",attrs:{tag:"ul","use-drag-handle":!0},model:{value:e.here,callback:function(t){e.here=t},expression:"here"}},e._l(e.here,function(t,r){return n("sortable-item",{key:t.public_id,class:{picture:!0,deleted:t.deleted},attrs:{tag:"li",index:r}},[t.url?n("img",{attrs:{src:e.resize(t.url,120)}}):e._e(),e._v(" "),n("span",[n("a",{directives:[{name:"handle",rawName:"v-handle"},{name:"show",rawName:"v-show",value:e.here.length>1,expression:"here.length > 1"}],staticClass:"sort",attrs:{href:"#",title:e.___("Order")}},[e._v("↕")]),e._v(" "),n("a",{attrs:{href:"#",title:e.___("Delete")},on:{click:function(t){t.preventDefault(),e.del(r)}}},[e._v("×")])])])})):e._e()],1):n("div",{staticClass:"error"},[e._v("\n      "+e._s(e.___("No Cloudinary Account."))+"\n  ")])])},jt=[],Ot=(n("KKXr"),n("3WF5")),$t=n.n(Ot),Et=(window.URL||window.webkitURL).createObjectURL||function(){return""},Rt={inject:["preSave"],props:{value:{type:Array,default:function(){return[]}},path:Object},data:function(){return{files:[],conf:{}}},computed:{here:{get:function(){return this.value||[]},set:function(e){this.$emit("input",e)}}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,n=t.conf.cloudinary,this.preSave.push(function(){return r.upload()}),this.conf=n;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{show:function(){this.files=$t()(this.$refs.input.files,function(e){return{name:e.name,file:e,blob:Et(e),status:""}}).concat(this.files)},del:function(e){var t=this.value[e];t.deleted=!t.deleted,this.here.splice(e,1,t)},upload:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,s,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.conf&&this.files.length){e.next=2;break}return e.abrupt("return");case 2:t=this.conf,n=t.name,r=t.preset,a=0;case 4:if(!(a<this.files.length)){e.next=17;break}return s=this.files[a],s.status="...",o=new FormData,o.append("upload_preset",r),o.append("file",s.file),e.next=12,fetch("https://api.cloudinary.com/v1_1/".concat(n,"/upload"),{method:"POST",body:o}).then(function(e){return e.json()});case 12:i=e.sent,i.error?(console.error("upload error",i.error),s.status="Error"):(console.log("picture uploaded",i),this.$emit("input",[i].concat(this.value)),s.status="Done");case 14:a++,e.next=4;break;case 17:this.files=this.files.filter(function(e){return"Error"===e.status});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),resize:function(e,t){var n=e.split("/");return n.splice(-2,0,"h_".concat(t,",c_scale")),n.join("/")}},components:{SortableList:F,SortableItem:L},directives:{handle:N["HandleDirective"]}},Dt=Rt,St=(n("+goq"),Object(D["a"])(Dt,kt,jt,!1,null,null,null)),Ct=St.exports;function Pt(e){var t=e.field||(e.type||"obj").toLowerCase();return!1===e.editable?B:e.enum?at:e.ref?yt:"boolean"===t?Ve:"array"===t?Qe:"textarea"===t?ze:"number"===t?ct:"date"===t?_t:"picture"===t?Ct:"string"===t?Ae:"obj"}var qt=n("6acW"),At=n.n(qt),Nt={name:"obj",props:{value:Object,path:Object,errors:{type:Object,default:function(){return{}}}},methods:{matchField:Pt,capitalize:At.a}},Ft=Nt,Lt=(n("Hz/v"),Object(D["a"])(Ft,Ee,Re,!1,null,null,null)),Mt=Lt.exports;r["a"].component("obj",Mt),r["a"].use(o),r["a"].use(s.a,{singleton:!0,duration:5e3,position:"bottom-center",className:"toasted-amdin",action:{text:"×",onClick:function(e,t){t.goAway(0)}}}),xe.afterEach(function(e,t){"create"===t.name&&"edit"===e.name||r["a"].toasted.clear()}),r["a"].config.productionTip=!1,new r["a"]({router:xe,render:function(e){return e($e)}}).$mount("#app")},"Z/my":function(e,t,n){},gdBf:function(e,t,n){},iXah:function(e,t,n){}});
//# sourceMappingURL=app.7a19fd48.js.map